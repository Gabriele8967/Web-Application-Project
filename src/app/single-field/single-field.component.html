<div class="container mt-5">
  <div *ngIf="field.length > 0; else loading">
    <!-- Mostra l'immagine una sola volta, in alto al centro -->
    <div class="image-container text-center">
      <img [src]="field[0]?.image || 'default-field.jpg'" alt="Immagine del campo {{ field[0]?.name }}" class="img-fluid rounded">
    </div>

    <!-- Mostra i dettagli di ciascun campo -->
    <div *ngFor="let campo of field">
      <div class="row mt-4 field-details">
        <div class="col-md-8">
          <h2 class="field-name">{{ campo?.time }}:00</h2> <!-- Visualizza l'orario invece del nome -->
          <p><strong>ID del Campo:</strong> {{ campo?.id }}</p>
          <p><strong>Data:</strong> {{ campo?.date | date:'dd/MM/yyyy' }}</p>
          <p><strong>Stato:</strong> {{ campo?.isOccupied ? 'Occupato' : 'Libero' }}</p>
          <p *ngIf="campo?.idMaestro"><strong>ID Maestro:</strong> {{ campo?.idMaestro }}</p>

          <!-- Dettagli giocatori se il campo è occupato -->
          <div *ngIf="campo?.isOccupied">
            <h5>Giocatori:</h5>
            <p><strong>Giocatore 1:</strong> {{ campo?.idGiocatore1 }}</p>
            <p><strong>Giocatore 2:</strong> {{ campo?.idGiocatore2 }}</p>
            <!-- Pulsante per eliminare la prenotazione se il campo è occupato -->
            <button class="btn btn-danger mt-3" (click)="eliminaPrenotazione(campo)">Elimina Prenotazione</button>
          </div>

          <!-- Pulsante per prenotare se il campo è libero -->
          <div *ngIf="!campo?.isOccupied">
            <button class="btn btn-primary mt-3" (click)="prenotaCampo(campo)">Prenota Campo</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Template di caricamento -->
  <ng-template #loading>
    <p>Caricamento campo...</p>
  </ng-template>
</div>
